<!doctype html>
<html>
<head>
    <title>OAuth 2.0 Callback</title>
    <script>
        function parseHash() {
            const REGEX = /([a-z_]+)=([^&]*)/g;

            var parameters = {};
            var m;
            while (m = REGEX.exec(window.location.hash)) {
                var key = decodeURIComponent(m[1]);
                parameters[key] = decodeURIComponent(m[2]);
            }

            return parameters;
        }

        var parameters = parseHash();
        window.opener.setOAuthParameters(parameters);
        window.close();
    </script>
</head>

</html>